-- -*- mode: haskell; -*-
-- Comments in this file use the Haskell syntax:
-- A "--" comments the rest of the line.
-- A set of {- ... -} comments out a group of lines.

-- This defines some aliases, to make the reports look nicer:
aliases (
	"sun-awt-X11-XFramePeer"  -> "java",
	"sun-awt-X11-XDialogPeer" -> "java",
	"sun-awt-X11-XWindowPeer" -> "java",
	"gramps.py"               -> "gramps",
	"___nforschung"           -> "ahnenforschung",
	"Pidgin"                  -> "pidgin"
	)

-- A rule that probably everybody wants. Being inactive for over a minute
-- causes this sample to be ignored by default.
$idle > 60 ==> tag inactive,

current window $program == ["Navigator","galeon"] &&
! (current window  $title =~ /YouTube/)
  ==> tag Graph:Web,

-- A rule that matches on a list of strings
current window $program == ["Navigator","galeon"] &&
current window $title =~ /YouTube/
  ==> tag Graph:TV,

current window $title =~ /Gmail|mutt/
  ==> tag Graph:email,

current window $title =~ /Tiny Tiny RSS/
  ==> tag Graph:read-rss,

-- Out of curiosity: what percentage of my time am I actually spend in editor?
current window $title =~ m!VIM!
  ==> tag Graph:Editing-With-VIM,

current window $program =~ m!evince! &&
current window $title =~ m!.pdf!
  ==> tag Graph:Reading-Pdf,

current window $program =~ m!xournal!
  ==> tag Graph:Proofreading,

current window $title =~ m!~/src!
  ==> tag Graph:Coding,

current window $title =~ m!~/jobs/grants!
  ==> tag Graph:Grants,

-- Simple rule that just tags the current program
tag Program:$current.program,

-- Another simple rule, just tags the current desktop (a.k.a. workspace)
tag Desktop:$desktop,

-- I'd like to know what evolution folders I'm working in. But when sending a
-- mail, the window title only contains the (not very helpful) subject. So I do
-- not tag necessarily by the active window title, but the title that contains
-- the folder
current window $program == "evolution" &&
any window ($program == "evolution" && $title =~ /^(.*) \([0-9]+/)
  ==> tag Evo-Folder:$1,

-- A general rule that works well with gvim and gnome-terminal and tells me
-- what project I'm currently working on
current window $title =~ m!(?:~|home/jojo)/projekte/(?:programming/(?:haskell/)?)?([^/)]*)!
  ==> tag Project:$1,
current window $title =~ m!(?:~|home/jojo)/debian!
  ==> tag Project:Debian,

-- This was a frequently looked-at pdf-File
current window $title =~ m!output.pdf! &&
any window ($title =~ /nforschung/)
  ==> tag Project:ahnenforschung,


